"use strict";(self.webpackChunkangular_tea=self.webpackChunkangular_tea||[]).push([[884],{2884:(w,p,l)=>{l.r(p),l.d(p,{OrdersModule:()=>k});var _=l(6895),s=l(8616),i=l(433),u=l(1571),f=l(4736);function g(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"),u.qZA())}function x(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0431\u0443\u043a\u0432\u044b"),u.qZA())}function v(e,o){if(1&e&&(u.TgZ(0,"div",29),u.YNc(1,g,2,0,"div",30),u.YNc(2,x,2,0,"div",30),u.qZA()),2&e){const r=u.oxw(2);let t,n;u.xp6(1),u.Q6J("ngIf",null==(t=r.orderForms.get("name"))?null:t.hasError("required")),u.xp6(1),u.Q6J("ngIf",null==(n=r.orderForms.get("name"))?null:n.hasError("pattern"))}}function h(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430"),u.qZA())}function Z(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0431\u0443\u043a\u0432\u044b "),u.qZA())}function T(e,o){if(1&e&&(u.TgZ(0,"div",29),u.YNc(1,h,2,0,"div",30),u.YNc(2,Z,2,0,"div",30),u.qZA()),2&e){const r=u.oxw(2);let t,n;u.xp6(1),u.Q6J("ngIf",null==(t=r.orderForms.get("last_name"))?null:t.hasError("required")),u.xp6(1),u.Q6J("ngIf",null==(n=r.orderForms.get("last_name"))?null:n.hasError("pattern"))}}function C(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),u.qZA())}function A(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442. \u041f\u0440\u0438\u043c\u0435\u0440: +7 (999) 999-99-99"),u.qZA())}function F(e,o){if(1&e&&(u.TgZ(0,"div",29),u.YNc(1,C,2,0,"div",30),u.YNc(2,A,2,0,"div",30),u.qZA()),2&e){const r=u.oxw(2);let t,n;u.xp6(1),u.Q6J("ngIf",null==(t=r.orderForms.get("phone"))?null:t.hasError("required")),u.xp6(1),u.Q6J("ngIf",null==(n=r.orderForms.get("phone"))?null:n.hasError("pattern"))}}function E(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0421\u0442\u0440\u0430\u043d\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430"),u.qZA())}function q(e,o){if(1&e&&(u.TgZ(0,"div",29),u.YNc(1,E,2,0,"div",30),u.qZA()),2&e){const r=u.oxw(2);let t;u.xp6(1),u.Q6J("ngIf",null==(t=r.orderForms.get("country"))?null:t.hasError("required"))}}function b(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0418\u043d\u0434\u0435\u043a\u0441 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),u.qZA())}function O(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0418\u043d\u0434\u0435\u043a\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 6 \u0446\u0438\u0444\u0440"),u.qZA())}function I(e,o){if(1&e&&(u.TgZ(0,"div",29),u.YNc(1,b,2,0,"div",30),u.YNc(2,O,2,0,"div",30),u.qZA()),2&e){const r=u.oxw(2);let t,n;u.xp6(1),u.Q6J("ngIf",null==(t=r.orderForms.get("zip"))?null:t.hasError("required")),u.xp6(1),u.Q6J("ngIf",null==(n=r.orderForms.get("zip"))?null:n.hasError("pattern"))}}function N(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),u.qZA())}function B(e,o){1&e&&(u.TgZ(0,"div"),u._uU(1,"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0437\u0430\u043f\u044f\u0442\u044b\u0435 \u0438 \u0442\u043e\u0447\u043a\u0438 "),u.qZA())}function D(e,o){if(1&e&&(u.TgZ(0,"div",29),u.YNc(1,N,2,0,"div",30),u.YNc(2,B,2,0,"div",30),u.qZA()),2&e){const r=u.oxw(2);let t,n;u.xp6(1),u.Q6J("ngIf",null==(t=r.orderForms.get("address"))?null:t.hasError("required")),u.xp6(1),u.Q6J("ngIf",null==(n=r.orderForms.get("address"))?null:n.hasError("pattern"))}}function y(e,o){if(1&e&&(u.TgZ(0,"p",31),u._uU(1),u.qZA()),2&e){const r=u.oxw(2);u.xp6(1),u.Oqu(r.responseErrorText)}}function U(e,o){if(1&e){const r=u.EpF();u.TgZ(0,"article",3)(1,"article",4)(2,"h2",5),u._uU(3,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA()(),u.TgZ(4,"form",6),u.NdJ("ngSubmit",function(){u.CHM(r);const n=u.oxw();return u.KtG(n.onSubmit())}),u.TgZ(5,"fieldset",7)(6,"label",8),u._uU(7,"\u0418\u043c\u044f"),u.qZA(),u._UZ(8,"input",9),u.YNc(9,v,3,2,"div",10),u.qZA(),u.TgZ(10,"fieldset",7)(11,"label",11),u._uU(12,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(13,"input",12),u.YNc(14,T,3,2,"div",10),u.qZA(),u.TgZ(15,"fieldset",7)(16,"label",13),u._uU(17,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u.TgZ(18,"input",14),u.NdJ("keydown",function(n){u.CHM(r);const d=u.oxw();return u.KtG(d.preventSpace(n))}),u.qZA(),u.YNc(19,F,3,2,"div",10),u.qZA(),u.TgZ(20,"fieldset",15)(21,"label",16),u._uU(22,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(23,"input",17),u.YNc(24,q,2,1,"div",10),u.qZA(),u.TgZ(25,"fieldset",15)(26,"label",18),u._uU(27,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(28,"input",19),u.YNc(29,I,3,2,"div",10),u.qZA(),u.TgZ(30,"fieldset",15)(31,"label",20),u._uU(32,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(33,"input",21),u.YNc(34,D,3,2,"div",10),u.qZA(),u.TgZ(35,"fieldset",15)(36,"label",22),u._uU(37,"\u0427\u0430\u0439"),u.qZA(),u._UZ(38,"input",23),u.qZA(),u.TgZ(39,"fieldset",24)(40,"label",25),u._uU(41,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(42,"textarea",26),u.qZA(),u.TgZ(43,"fieldset",24)(44,"button",27),u._uU(45,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.qZA(),u.YNc(46,y,2,1,"p",28),u.qZA()()()}if(2&e){const r=u.oxw();let t,n,d,c,a,m;u.xp6(4),u.Q6J("formGroup",r.orderForms),u.xp6(5),u.Q6J("ngIf",(null==(t=r.orderForms.get("name"))?null:t.touched)&&(null==(t=r.orderForms.get("name"))?null:t.invalid)),u.xp6(5),u.Q6J("ngIf",(null==(n=r.orderForms.get("last_name"))?null:n.touched)&&(null==(n=r.orderForms.get("last_name"))?null:n.invalid)),u.xp6(5),u.Q6J("ngIf",(null==(d=r.orderForms.get("phone"))?null:d.touched)&&(null==(d=r.orderForms.get("phone"))?null:d.invalid)),u.xp6(5),u.Q6J("ngIf",(null==(c=r.orderForms.get("country"))?null:c.touched)&&(null==(c=r.orderForms.get("country"))?null:c.invalid)),u.xp6(5),u.Q6J("ngIf",(null==(a=r.orderForms.get("zip"))?null:a.touched)&&(null==(a=r.orderForms.get("zip"))?null:a.invalid)),u.xp6(5),u.Q6J("ngIf",(null==(m=r.orderForms.get("address"))?null:m.touched)&&(null==(m=r.orderForms.get("address"))?null:m.invalid)),u.xp6(4),u.Q6J("readonly",r.inputReadonly),u.xp6(6),u.Q6J("disabled",r.orderForms.invalid||r.orderForms.disabled),u.xp6(2),u.Q6J("ngIf",r.responseError)}}function J(e,o){1&e&&(u.TgZ(0,"article",32),u._uU(1,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),u.qZA())}const Y=[{path:"",component:(()=>{class e{constructor(r,t,n){this.formBuilder=r,this.route=t,this.productService=n,this.productTitle="",this.inputReadonly=!1,this.isVisibleForm=!0,this.responseError=!1,this.responseErrorText="",this.subscriptionsParams=null,this.subscriptionsOrder=null,this.orderForms=this.formBuilder.group({name:["",[i.kI.required,i.kI.pattern("^[\u0410-\u042f\u0401][\u0430-\u044f\u0451]+$")]],last_name:["",[i.kI.required,i.kI.pattern("^[\u0410-\u042f\u0401][\u0430-\u044f\u0451]+$")]],phone:["",[i.kI.required,i.kI.pattern(/^\+7\s?\(?\d{3}\)?\s?\d{3}[-\s]?\d{2}[-\s]?\d{2}$/)]],country:["",[i.kI.required]],zip:["",[i.kI.required,i.kI.pattern("^\\d{6}$")]],product:["",[i.kI.required]],address:["",[i.kI.required,i.kI.pattern("^[\u0430-\u044f\u0410-\u042f0-9,\\.\\s]+$")]],comment:[""]})}ngOnInit(){this.subscriptionsParams=this.route.paramMap.subscribe(r=>{this.productTitle=r.get("product"),this.productTitle&&(this.orderForms.patchValue({product:this.productTitle}),this.inputReadonly=!0)})}preventSpace(r){" "===r.key&&r.preventDefault()}onSubmit(){this.orderForms.valid?this.subscriptionsOrder=this.productService.createOrder(this.orderForms.value).subscribe({next:t=>{t.success&&!t.message?(this.inputReadonly=!1,this.orderForms.reset(),this.isVisibleForm=!1):(this.responseError=!0,this.responseErrorText=t.message||"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.")},error:t=>{this.responseError=!0,this.responseErrorText=t.message}}):(this.orderForms.markAllAsTouched(),this.responseError=!0,this.responseErrorText="\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f!")}ngOnDestroy(){this.subscriptionsParams?.unsubscribe(),this.subscriptionsOrder?.unsubscribe()}}return e.\u0275fac=function(r){return new(r||e)(u.Y36(i.qu),u.Y36(s.gz),u.Y36(f.s))},e.\u0275cmp=u.Xpm({type:e,selectors:[["order-component"]],decls:3,vars:2,consts:[["id","order",1,"row","justify-content-center","mb-5","text-append"],["class","col-12 col-sm-12 col-lg-6 hide",4,"ngIf"],["class","m-auto fs-2 text-center",4,"ngIf"],[1,"col-12","col-sm-12","col-lg-6","hide"],[1,"col-12","hide"],[1,"text-center","mb-5"],["action","","id","form",1,"row","g-3","mb-5",3,"formGroup","ngSubmit"],[1,"col-md-4"],["for","inputName",1,"form-label"],["type","text","id","inputName","formControlName","name","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],["for","inputLastName",1,"form-label"],["type","text","id","inputLastName","formControlName","last_name","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e",1,"form-control"],["for","inputPhone",1,"form-label"],["type","text","id","inputPhone","formControlName","phone","placeholder","+7 (999) 999-99-99",1,"form-control",3,"keydown"],[1,"col-md-6"],["for","inputState",1,"form-label"],["type","text","id","inputState","formControlName","country","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443",1,"form-control"],["for","inputIndex",1,"form-label"],["type","number","id","inputIndex","formControlName","zip","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0434\u0435\u043a\u0441",1,"form-control"],["for","inputAddress",1,"form-label"],["type","text","id","inputAddress","formControlName","address","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441",1,"form-control"],["for","inputTea",1,"form-label"],["type","text","id","inputTea","formControlName","product","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430",1,"form-control",3,"readonly"],[1,"col-md-12"],["for","inputComment",1,"form-label"],["id","inputComment","formControlName","comment","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443",1,"form-control"],[1,"btn","btn-primary","px-5",3,"disabled"],["class","text-danger mt-2",4,"ngIf"],[1,"text-danger","mt-1"],[4,"ngIf"],[1,"text-danger","mt-2"],[1,"m-auto","fs-2","text-center"]],template:function(r,t){1&r&&(u.TgZ(0,"section",0),u.YNc(1,U,47,10,"article",1),u.YNc(2,J,2,0,"article",2),u.qZA()),2&r&&(u.xp6(1),u.Q6J("ngIf",t.isVisibleForm),u.xp6(1),u.Q6J("ngIf",!t.isVisibleForm))},dependencies:[_.O5,i._Y,i.Fj,i.wV,i.JJ,i.JL,i.sg,i.u]}),e})()}];let Q=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[s.Bz.forChild(Y),s.Bz]}),e})(),k=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[_.ez,s.Bz,i.UX,Q]}),e})()}}]);